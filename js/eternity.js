function toRandomPost(){showNotification("ðŸŽ² æ­£åœ¨ä¸ºæ‚¨å¯»æ‰¾éšæœºæ–‡ç« ...");const o=[];if(document.querySelectorAll('a[href*="/posts/"]').forEach(e=>{const t=e.getAttribute("href");t&&t.includes("/posts/")&&!t.endsWith("/posts/")&&!t.includes("#")&&o.push(t)}),console.log("æ‰¾åˆ°çš„æ–‡ç« é“¾æŽ¥:",o),o.length>0){const e=Math.floor(Math.random()*o.length),t=o[e];console.log("éšæœºé€‰æ‹©çš„æ–‡ç« :",t),showNotification(`ðŸŽ¯ å³å°†è·³è½¬åˆ°: ${t}`),window.location.href=t}else console.log("æœªæ‰¾åˆ°æ–‡ç« é“¾æŽ¥ï¼Œè·³è½¬åˆ°å½’æ¡£é¡µ"),showNotification("âŒ æœªæ‰¾åˆ°æ–‡ç« é“¾æŽ¥ï¼Œè·³è½¬åˆ°å½’æ¡£é¡µé¢"),window.location.ref="/archives/"}function clearAllCaches(){const o="ðŸ“‹ æ­£åœ¨æ¸…ç†æ‰€æœ‰ç¼“å­˜...";console.log(o),showNotification(o),Promise.all([clearServiceWorkerCaches(),clearLocalStorage(),clearSessionStorage(),clearIndexedDB()]).then(()=>{const o="âœ… æ‰€æœ‰ç¼“å­˜å·²æ¸…ç†å®Œæˆï¼Œå³å°†åˆ·æ–°é¡µé¢...";console.log(o),showNotification(o),setTimeout(()=>{window.location.reload(!0)},1e3)}).catch(o=>{console.error("æ¸…ç†ç¼“å­˜æ—¶å‡ºé”™:",o);showNotification("âš ï¸ ç¼“å­˜æ¸…ç†å®Œæˆï¼ˆéƒ¨åˆ†å¯èƒ½å¤±è´¥ï¼‰ï¼Œå³å°†åˆ·æ–°é¡µé¢..."),setTimeout(()=>{window.location.reload(!0)},1e3)})}function showNotification(o){if("undefined"!=typeof btf&&btf.snackbarShow&&"undefined"!=typeof GLOBAL_CONFIG&&GLOBAL_CONFIG.Snackbar)try{return void btf.snackbarShow(o)}catch(o){console.warn("ä½¿ç”¨ Butterfly é€šçŸ¥ç³»ç»Ÿå¤±è´¥:",o)}if("function"==typeof snackbarShow)try{return void snackbarShow(o)}catch(o){console.warn("ä½¿ç”¨åŽŸç”Ÿ snackbar å¤±è´¥:",o)}createCustomNotification(o)}function createCustomNotification(o){try{const e=document.getElementById("custom-cache-notification");e&&e.remove();const t=document.createElement("div");if(t.id="custom-cache-notification",t.style.cssText="\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            background: #333;\n            color: white;\n            padding: 12px 24px;\n            border-radius: 8px;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n            z-index: 10000;\n            font-size: 14px;\n            max-width: 300px;\n            word-wrap: break-word;\n            animation: slideInFromRight 0.3s ease-out;\n        ",!document.getElementById("notification-styles")){const o=document.createElement("style");o.id="notification-styles",o.textContent="\n                @keyframes slideInFromRight {\n                    from {\n                        transform: translateX(100%);\n                        opacity: 0;\n                    }\n                    to {\n                        transform: translateX(0);\n                        opacity: 1;\n                    }\n                }\n                @keyframes slideOutToRight {\n                    from {\n                        transform: translateX(0);\n                        opacity: 1;\n                    }\n                    to {\n                        transform: translateX(100%);\n                        opacity: 0;\n                    }\n                }\n            ",document.head.appendChild(o)}t.textContent=o,document.body.appendChild(t),setTimeout(()=>{t.parentNode&&(t.style.animation="slideOutToRight 0.3s ease-in",setTimeout(()=>{t.parentNode&&t.remove()},300))},3e3)}catch(e){console.warn("åˆ›å»ºè‡ªå®šä¹‰é€šçŸ¥å¤±è´¥:",e),alert(o)}}async function clearServiceWorkerCaches(){if("serviceWorker"in navigator)try{const o=await navigator.serviceWorker.getRegistrations();for(let e of o)await e.unregister(),console.log("ðŸ“‹ Service Worker å·²æ³¨é”€:",e.scope);if("caches"in window){const o=await caches.keys();for(let e of o)await caches.delete(e),console.log("ðŸ“‹ å·²æ¸…ç†ç¼“å­˜:",e)}console.log("âœ… Service Worker ç¼“å­˜æ¸…ç†å®Œæˆ")}catch(o){throw console.error("æ¸…ç† Service Worker ç¼“å­˜å¤±è´¥:",o),o}}function clearLocalStorage(){try{const o=localStorage.length;localStorage.clear(),console.log(`âœ… å·²æ¸…ç† localStorage ï¼ˆ${o} é¡¹ï¼‰`)}catch(o){throw console.error("æ¸…ç† localStorage å¤±è´¥:",o),o}}function clearSessionStorage(){try{const o=sessionStorage.length;sessionStorage.clear(),console.log(`âœ… å·²æ¸…ç† sessionStorage ï¼ˆ${o} é¡¹ï¼‰`)}catch(o){throw console.error("æ¸…ç† sessionStorage å¤±è´¥:",o),o}}async function clearIndexedDB(){if("indexedDB"in window)try{const o=["workbox-precache","workbox-runtime","workbox-strategies","keyval-store"];for(let e of o)try{await deleteDatabase(e),console.log(`âœ… å·²æ¸…ç† IndexedDB: ${e}`)}catch(o){console.log(`âš ï¸ IndexedDB ${e} ä¸å­˜åœ¨æˆ–æ¸…ç†å¤±è´¥`)}}catch(o){throw console.error("æ¸…ç† IndexedDB å¤±è´¥:",o),o}}function deleteDatabase(o){return new Promise((e,t)=>{const n=indexedDB.deleteDatabase(o);n.onsuccess=()=>e(),n.onerror=()=>t(n.error),n.onblocked=()=>{console.warn(`æ•°æ®åº“ ${o} åˆ é™¤è¢«é˜»å¡ž`),setTimeout(()=>e(),1e3)}})}