import{w as ln,c as S}from"./path-CbwjOpE9.js";import{at as an,au as H,av as D,aw as rn,ax as y,T as tn,ay as L,az as _,aA as un,aB as o,aC as sn,aD as on,aE as fn}from"./index-BkkyqH7o.js";function cn(n){return n.innerRadius}function yn(n){return n.outerRadius}function gn(n){return n.startAngle}function mn(n){return n.endAngle}function pn(n){return n&&n.padAngle}function xn(n,t,a,o,r,c,e,u){var i=a-n,l=o-t,f=e-r,s=u-c,p=s*i-f*l;if(!(p*p<y))return[n+(p=(f*(t-c)-s*(n-r))/p)*i,t+p*l]}function W(n,t,a,o,r,c,y){var e=n-a,u=t-o,i=(y?c:-c)/L(e*e+u*u),l=i*u,f=-i*e,s=n+l,p=t+f,x=a+l,h=o+f,v=(s+x)/2,g=(p+h)/2,d=x-s,m=h-p,D=d*d+m*m,H=r-c,S=s*h-x*p,T=(m<0?-1:1)*L(on(0,H*H*D-S*S)),A=(S*m-d*T)/D,R=(-S*d-m*T)/D,W=(S*m+d*T)/D,_=(-S*d+m*T)/D,j=A-v,w=R-g,k=W-v,B=_-g;return j*j+w*w>k*k+B*B&&(A=W,R=_),{cx:A,cy:R,x01:-l,y01:-f,x11:A*(r/H-1),y11:R*(r/H-1)}}function vn(){var n=cn,t=yn,a=S(0),r=null,c=gn,e=mn,u=pn,i=null,l=ln(f);function f(){var f,s,p=+n.apply(this,arguments),x=+t.apply(this,arguments),h=c.apply(this,arguments)-rn,v=e.apply(this,arguments)-rn,g=un(v-h),d=v>h;if(i||(i=f=l()),x<p&&(s=x,x=p,p=s),x>y)if(g>tn-y)i.moveTo(x*H(h),x*D(h)),i.arc(0,0,x,h,v,!d),p>y&&(i.moveTo(p*H(v),p*D(v)),i.arc(0,0,p,v,h,d));else{var m,S,T=h,A=v,R=h,j=v,w=g,k=g,B=u.apply(this,arguments)/2,C=B>y&&(r?+r.apply(this,arguments):L(p*p+x*x)),E=_(un(x-p)/2,+a.apply(this,arguments)),b=E,q=E;if(C>y){var z=sn(C/p*D(B)),O=sn(C/x*D(B));(w-=2*z)>y?(R+=z*=d?1:-1,j-=z):(w=0,R=j=(h+v)/2),(k-=2*O)>y?(T+=O*=d?1:-1,A-=O):(k=0,T=A=(h+v)/2)}var P=x*H(T),F=x*D(T),G=p*H(j),I=p*D(j);if(E>y){var J,K=x*H(A),M=x*D(A),N=p*H(R),Q=p*D(R);if(g<an)if(J=xn(P,F,N,Q,K,M,G,I)){var U=P-J[0],V=F-J[1],X=K-J[0],Y=M-J[1],Z=1/D(fn((U*X+V*Y)/(L(U*U+V*V)*L(X*X+Y*Y)))/2),$=L(J[0]*J[0]+J[1]*J[1]);b=_(E,(p-$)/(Z-1)),q=_(E,(x-$)/(Z+1))}else b=q=0}k>y?q>y?(m=W(N,Q,P,F,x,q,d),S=W(K,M,G,I,x,q,d),i.moveTo(m.cx+m.x01,m.cy+m.y01),q<E?i.arc(m.cx,m.cy,q,o(m.y01,m.x01),o(S.y01,S.x01),!d):(i.arc(m.cx,m.cy,q,o(m.y01,m.x01),o(m.y11,m.x11),!d),i.arc(0,0,x,o(m.cy+m.y11,m.cx+m.x11),o(S.cy+S.y11,S.cx+S.x11),!d),i.arc(S.cx,S.cy,q,o(S.y11,S.x11),o(S.y01,S.x01),!d))):(i.moveTo(P,F),i.arc(0,0,x,T,A,!d)):i.moveTo(P,F),p>y&&w>y?b>y?(m=W(G,I,K,M,p,-b,d),S=W(P,F,N,Q,p,-b,d),i.lineTo(m.cx+m.x01,m.cy+m.y01),b<E?i.arc(m.cx,m.cy,b,o(m.y01,m.x01),o(S.y01,S.x01),!d):(i.arc(m.cx,m.cy,b,o(m.y01,m.x01),o(m.y11,m.x11),!d),i.arc(0,0,p,o(m.cy+m.y11,m.cx+m.x11),o(S.cy+S.y11,S.cx+S.x11),d),i.arc(S.cx,S.cy,b,o(S.y11,S.x11),o(S.y01,S.x01),!d))):i.arc(0,0,p,j,R,d):i.lineTo(G,I)}else i.moveTo(0,0);if(i.closePath(),f)return i=null,f+""||null}return f.centroid=function(){var a=(+n.apply(this,arguments)+ +t.apply(this,arguments))/2,o=(+c.apply(this,arguments)+ +e.apply(this,arguments))/2-an/2;return[H(o)*a,D(o)*a]},f.innerRadius=function(t){return arguments.length?(n="function"==typeof t?t:S(+t),f):n},f.outerRadius=function(n){return arguments.length?(t="function"==typeof n?n:S(+n),f):t},f.cornerRadius=function(n){return arguments.length?(a="function"==typeof n?n:S(+n),f):a},f.padRadius=function(n){return arguments.length?(r=null==n?null:"function"==typeof n?n:S(+n),f):r},f.startAngle=function(n){return arguments.length?(c="function"==typeof n?n:S(+n),f):c},f.endAngle=function(n){return arguments.length?(e="function"==typeof n?n:S(+n),f):e},f.padAngle=function(n){return arguments.length?(u="function"==typeof n?n:S(+n),f):u},f.context=function(n){return arguments.length?(i=n??null,f):i},f}export{vn as a};